<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>

    <meta charset="utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <title>Title</title>

    <style>
        .item {
            position: relative;
            float: left;
        }

        .item h2 {
            text-align:center;
            position: absolute;
            line-height: 125px;
            width: 100%;
        }

        svg {
            -webkit-transform: rotate(-90deg);
            transform: rotate(-90deg);
        }

        .circle_animation {
            stroke-dasharray: 440; /* this value is the pixel circumference of the circle */
            stroke-dashoffset: 440;
            transition: all 1s linear;
        }
        .user-row {
            margin-bottom: 14px;
        }

        .user-row:last-child {
            margin-bottom: 0;
        }

        .dropdown-user {
            margin: 13px 0;
            padding: 5px;
            height: 100%;
        }

        .dropdown-user:hover {
            cursor: pointer;
        }

        .table-user-information > tbody > tr {
            border-top: 1px solid rgb(221, 221, 221);
        }

        .table-user-information > tbody > tr:first-child {
            border-top: 0;
        }


        .table-user-information > tbody > tr > td {
            border-top: 0;
        }
        .toppad
        {margin-top:20px;
        }
        h2
        {
            color:#F8080C;
        }
        .progresBar{
            margin: 50px auto;
            width: 520px;
            clear: both;
        }
        #progressBar{
            width: 400px;
            float: left;
            height: 23px;
        }
        input{
            width: 100px;
            float: right;
        }

    </style>

</head>
<body>
<div th:insert="header.html :: header"></div><br>
<div class="container">
    <div class="item html"  th:if="${result.question==result.questionPasse}">
        <h2>0</h2>
        <svg width="160" height="160" xmlns="http://www.w3.org/2000/svg">
            <g>
                <title>Layer 1</title>
                <circle id="circle" class="circle_animation" r="69.85699" cy="81" cx="81" stroke-width="8" stroke="#6fdb6f" fill="none"/>
            </g>
        </svg>
    </div>


    <div th:if="${result.exerciceOrtho1==false}">
        <h5 class="row" >Orthographe </h5>
        <h5  class="row" style="color: #F8080C">Partie 1 </h5>
        <div th:if="${result.question==result.questionPasse}">
        <h5  class="row"><u>Dans les phrases suivantes, identifier et cliquer le mot correctement orthographié:</u></h5>
        <h5 class="row"><p th:text="${question1.phrase1}"></p>&nbsp;<span style="color: blue; "><a th:href="@{'/saveOrthoGram/'+${question1.reponse1}}"><p  th:text="${question1.reponse1}"></p></a></span><p>&nbsp;/&nbsp;</p>
            <span style="color: blue; "><a th:href="@{'/saveOrthoGram/'+${question1.reponse2}}" ><p  th:text="${question1.reponse2}"></p></a></span>&nbsp;<p th:text="${question1.phrase2}"></p></h5></div>

        </div>






<div  th:if="${result.exerciceOrtho1==true&&questionnaire.ortho==false}">
    <h5 class="row">Orthographe </h5>
    <h5 class="row" style="color: #F8080C">Partie 2 </h5>
    <div th:if="${result.question==result.questionPasse}">
    <h5 class="row">Parmi les listes de mots suivantes, identifier et cliquer sur mot dont l'orthographe est incorrecte:</h5>
    <div class="row">
    <form th:action="@{saveOrthogram}" method="post" th:object="${questionnaire}" enctype="multipart/form-data" >

    <ol>
        <li style="color: blue;" ><a th:href="@{'/saveOrthoGram/'+${question2.mot1}}"><p  th:text="${question2.mot1}"></p></a></li>
        <li style="color: blue;"><a th:href="@{'/saveOrthoGram/'+${question2.mot2}}"><p  th:text="${question2.mot2}"></p></a></li>
        <li style="color: blue;"><a th:href="@{'/saveOrthoGram/'+${question2.mot3}}"><p  th:text="${question2.mot3}"></p></a></li>
        <li style="color: blue;"><a th:href="@{'/saveOrthoGram/'+${question2.mot4}}"><p  th:text="${question2.mot4}"></p></a></li>
        <li style="color: blue;"><a th:href="@{'/saveOrthoGram/'+${question2.mot5}}"><p  th:text="${question2.mot5}"></p></a></li>

    </ol>

    </form>
</div>
    </div>
</div>

    <div th:if="${questionnaire.ortho==true&&result.exerciceGram1==false}">
        <h5 class="row" >Grammaire</h5>
        <h5  class="row" style="color: #F8080C">Partie 1 </h5>
        <div th:if="${result.question==result.questionPasse}">
        <h5  class="row"><u>Dans les phrases suivantes, identifier et cliquer le mot correctement orthographié:</u></h5>
        <h5 class="row"><p th:text="${question3.phrase1}"></p>&nbsp;<span style="color: blue; "><a th:href="@{'/saveOrthoGram/'+${question3.reponse1}}"><p  th:text="${question3.reponse1}"></p></a></span><p>&nbsp;/&nbsp;</p>
            <span style="color: blue; "><a th:href="@{'/saveOrthoGram/'+${question3.reponse2}}" ><p  th:text="${question3.reponse2}"></p></a></span>&nbsp;<p th:text="${question3.phrase2}"></p></h5>

        </div>
    </div>

    <div th:if="${result.exerciceGram1==true}">
        <h5 class="row" >Grammaire</h5>
        <h5  class="row" style="color: #F8080C">Partie 1 </h5>
        <div th:if="${result.question==result.questionPasse}">
        <h5  class="row"><u>Signaler dans quelle partie de phrase se situe la faute. Attention ! Il n'y a qu'une seule
            faute par phrase. Cependant, certaines phrases peuvent ne comporter aucune faute, dans ce cas
            , cliquer sur aucune faute.:</u></h5>
        <h5 class="row"><span style="color: blue; "><a th:href="@{'/saveOrthoGram/'+${question4.phrase1}}"><p  th:text="${question4.phrase1}"></p></a></span><p>&nbsp;/&nbsp;</p>
            <span style="color: blue; "><a th:href="@{'/saveOrthoGram/'+${question4.phrase2}}" ><p  th:text="${question4.phrase2}"></p></a></span><p>&nbsp;/&nbsp;</p>
            <span style="color: blue; "><a th:href="@{'/saveOrthoGram/'+${question4.phrase3}}" ><p  th:text="${question4.phrase3}"></p></a></span><p>&nbsp;/&nbsp;</p>
            <span style="color: blue; "><a th:href="@{'/saveOrthoGram/'+${question4.phrase4}}" ><p  th:text="${question4.phrase4}"></p></a></span><p>&nbsp;/&nbsp;</p>
            <span style="color: blue; "><a th:href="@{'/saveOrthoGram/'+'aucune faute'}"><p>aucune faute</p></a></span></h5>

    </div>
    </div>
    <div class="alert alert-info" th:if="${result.question!=result.questionPasse}">
        <strong>Information!</strong> Le délai pour répondre à cette question est dépassé.
        <form th:action="@{saveOrthoGram/faute}"  method="get">
            <button type="submit" class="btn btn-info"  >Valider</button>
        </form>
    </div>

    <div class="progresBar">
        <progress id="progressBar" th:max="${questionMax}" th:value="${result.question}" th:text="${result.question}" ></progress>

        <p th:text="${questionMax}"></p>



    </div>
</div>


 <script th:inline="javascript">
    var QCM = "[[${result.question}]]";
    var QCMP = "[[${result.questionPasse}]]"

</script>
<script>
    var time = 10; /* how long the timer runs for */
    var initialOffset = '440';
    var i = 1;

    var interval = setInterval(function() {

        $('.circle_animation').css('stroke-dashoffset', initialOffset-(i*(initialOffset/time)));
        $('h2').text(i);
        if (i == time) {
            clearInterval(interval);

        }
        i++;
    }, 1000);
    setTimeout(function () {
        if (QCM==QCMP){
        window.location.href='/questionOrthoGram'}
    }
    ,10000)
</script>



<script>
    document.getElementById('progressBar').addEventListener('click',function (e) {
        var x=e.pageX-this.offsetLeft;
        var startPos=document.getElementById('progresBar').position;
        var xconvert=x/400;
        var finalx=(xconvert).toFixed(1);
        document.getElementById('progressBar').value=finalx;
        document.getElementById('myvalue').value =finalx*100;

    })
</script>
</body>
</html>
